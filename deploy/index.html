<!doctype html>
<html lang="fr">
<head>
	<meta charset="utf-8">
	<meta http-equiv="X-UA-Compatible" content="IE=edge">
	<meta name="viewport" content="width=device-width, initial-scale=1.0">

	
	<link rel="stylesheet" href="/11ty-exemple/assets/css/index.css">
	<link rel="stylesheet" href="/11ty-exemple/assets/css/bootstrap-icons.css">

	
	<link href="/11ty-exemple/_pagefind/pagefind-ui.css" rel="stylesheet">
	<script src="/11ty-exemple/_pagefind/pagefind-ui.js" type="text/javascript"></script>
	<script src="/11ty-exemple/assets/js/pagefind.js"></script>

	<title>11ty Example</title>
</head>

<body>
	<div class="navbar bg-base-100">
  <div class="navbar-start">
    <div class="dropdown">
      <label tabindex="0" class="btn btn-ghost btn-circle">
        <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="h-5 w-5">
          <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M4 6h16M4 12h16M4 18h7"></path>
        </svg>
      </label>
      <ul slot="navigation" tabindex="0" class="menu menu-sm dropdown-content mt-3 z-[1] p-2 shadow bg-base-100 rounded-box w-52">
        <li><a href="/11ty-exemple/">Homepage</a></li>
        <li><a href="/11ty-exemple/deploy/">Déploiement</a></li>
        <li><a href="/11ty-exemple/about/">A propos</a></li>
      </ul>
    </div>
  </div>
  <div class="navbar-center">
    <a href="/11ty-exemple/" class="btn btn-ghost normal-case text-xl">BSPoke</a>
  </div>
  <div class="navbar-end">
    <button onclick="searchModal.showModal()" class="btn btn-ghost btn-circle">
      <svg xmlns="http://www.w3.org/2000/svg" fill="none" viewBox="0 0 24 24" stroke="currentColor" class="h-5 w-5">
        <path stroke-linecap="round" stroke-linejoin="round" stroke-width="2" d="M21 21l-6-6m2-5a7 7 0 11-14 0 7 7 0 0114 0z"></path>
      </svg>
    </button>
  </div>
</div>
	<main class="min-h-[calc(100vh-)]">
		<article class="prose lg:prose-xl mx-auto max-w-screen-lg px-10"><h1>Déploiement</h1>
<h2>Prérequis</h2>
<p>Avant de partir sur le déploiement du projet, assurez d'avoir bien respecté les étapes de la <a href="/documentation">documentation</a> pour le développement.</p>
<h2>Configuration du serveur</h2>
<p>Cette étape n'est plus nécessaire, car le serveur est déjà configuré, mais s'il faut refaire la configuration sur un autre serveur, voici les étapes à suivre.</p>
<p><strong>Note :</strong> Pour réaliser ces étapes, il faut avoir un domaine entier réservé au serveur. Il n'est pas possible de faire cohabiter l'application avec un autre site web sur le même domaine.</p>
<h3>Ajout du dépôt Git</h3>
<p>Pour ajouter le dépôt Git, rendez-vous sur le serveur Plesk. Ensuite, allez sur le domaine et cliquez sur <code>Git</code>.</p>
<p>Ensuite, cliquez sur <code>Add Repository</code> pour ajouter le dépôt Git.</p>
<p>Ensuite, entrez les informations suivantes :</p>
<ul>
<li><strong>Repository name</strong> : <code>stuart</code></li>
<li><strong>Repository URL</strong> : <code>git@github.com:ServiceInformation/next-stuart.git</code></li>
<li><strong>Repository branch</strong> : <code>main</code></li>
<li><strong>Server path</strong> : <code>/path/to/root/document/server</code></li>
</ul>
<blockquote>
<p><strong>Attention :</strong> Si vous êtes sur un serveur ou il y a déjà 1 ou plusieurs dépôts Git, il faut changer le nom du dépôt pour éviter les conflits.</p>
</blockquote>
<h3>Configuration du Node.js</h3>
<p>Pour configurer Node.js, il faut d'abord avoir ajouter le dépôt Git et fait un premier <code>Pull now</code> pour récupérer les fichiers du projet.</p>
<p>Ensuite, allez sur le domaine et cliquez sur <code>Node.js</code>.</p>
<blockquote>
<p>Si vous ne voyez pas <code>Node.js</code>, il faut d'abord installer le module <code>Node.js</code> sur le serveur en cliquant sur <code>Install Application</code> et en sélectionnant <code>Node.js</code>.</p>
</blockquote>
<p>Ensuite, cliquez sur <code>Enable Node.js</code> pour activer Node.js sur le domaine. Sélectionnez la version <code>18</code> la plus récente possible et cliquez sur <code>Apply</code>.</p>
<p>Configurez ensuite Node.js pour que le <code>Dashboard</code> affiche les informations suivantes :</p>
<ul>
<li>Node.js version : <code>18.X.X</code></li>
<li>Package Manager : <code>npm</code></li>
<li>Document root : <code>/&lt;path/to/root/document/server&gt;/.next/static</code></li>
<li>Application mode : <code>production</code></li>
<li>Application URL : <code>https://&lt;domaine&gt;.fr</code></li>
<li>Application root : <code>/&lt;path/to/root/document/server&gt;</code></li>
<li>Application startup file : <code>node_modules/.bin/next</code></li>
</ul>
<p>Enfin, cliquez sur <code>+ NPM install</code> pour installer les dépendances du projet, puis allez dans <code>Run Node.js commands</code> et exécutez la commande <code>npm run deploy</code> pour construire le site et redémarrer le serveur.</p>
<p>Si tout s'est bien passé, vous devriez voir le site <em>https://domaine.fr</em> être accessible.</p>
<blockquote>
<p><strong>Note :</strong> Si des erreurs apparaissent, il faut vérifier que les étapes précédentes ont bien été réalisées.</p>
</blockquote>
<h2>Déploiement sur le serveur de production</h2>
<p>Pour déployer le projet, rendez-vous sur le serveur Plesk. Ensuite, allez sur le domaine <code>stuart.crescendo-restauration.fr</code> et cliquez sur <code>Git</code>.</p>
<p>Ensuite, cliquez sur <code>Pull now</code> pour récupérer les dernières modifications du projet et déployer le projet.</p>
<p>Ensuite, allez sur le domaine <code>stuart.crescendo-restauration.fr</code> et cliquez sur <code>Node.js</code>.</p>
<p>Une fois sur la page, cliquez sur <code>NPM install</code> pour installer les dépendances du projet, puis allez dans <code>Run Node.js commands</code> et exécutez la commande <code>npm run deploy</code> pour construire le site et redémarrer le serveur.</p>
<p>Enfin, visite le site <a href="https://stuart.crescendo-restauration.fr">https://stuart.crescendo-restauration.fr</a> pour voir le résultat.</p>
</article>
		<button onclick="scrollToTop()" class="fixed bottom-4 right-4 btn btn-primary btn-outline">
			<i class="bi bi-arrow-up-square"></i>
			<span class="sr-only">Go to the top</span>
		</button>
		<script>
			function scrollToTop() {
				window.scrollTo({
					top: 0,
					left: 0,
					behavior: 'smooth'
				});
			}
		</script>
	</main>
	<footer class="footer p-10 bg-neutral text-neutral-content">
    <div>
      <svg width="50" height="50" viewBox="0 0 24 24" xmlns="http://www.w3.org/2000/svg" fill-rule="evenodd" clip-rule="evenodd" class="fill-current"><path d="M22.672 15.226l-2.432.811.841 2.515c.33 1.019-.209 2.127-1.23 2.456-1.15.325-2.148-.321-2.463-1.226l-.84-2.518-5.013 1.677.84 2.517c.391 1.203-.434 2.542-1.831 2.542-.88 0-1.601-.564-1.86-1.314l-.842-2.516-2.431.809c-1.135.328-2.145-.317-2.463-1.229-.329-1.018.211-2.127 1.231-2.456l2.432-.809-1.621-4.823-2.432.808c-1.355.384-2.558-.59-2.558-1.839 0-.817.509-1.582 1.327-1.846l2.433-.809-.842-2.515c-.33-1.02.211-2.129 1.232-2.458 1.02-.329 2.13.209 2.461 1.229l.842 2.515 5.011-1.677-.839-2.517c-.403-1.238.484-2.553 1.843-2.553.819 0 1.585.509 1.85 1.326l.841 2.517 2.431-.81c1.02-.33 2.131.211 2.461 1.229.332 1.018-.21 2.126-1.23 2.456l-2.433.809 1.622 4.823 2.433-.809c1.242-.401 2.557.484 2.557 1.838 0 .819-.51 1.583-1.328 1.847m-8.992-6.428l-5.01 1.675 1.619 4.828 5.011-1.674-1.62-4.829z"></path></svg>
      <p>ACME Industries Ltd.<br>Providing reliable tech since 1992</p>
    </div> 
    <div>
      <span class="footer-title">Social</span> 
      <div class="grid grid-flow-col gap-4">
        <a><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="fill-current"><path d="M24 4.557c-.883.392-1.832.656-2.828.775 1.017-.609 1.798-1.574 2.165-2.724-.951.564-2.005.974-3.127 1.195-.897-.957-2.178-1.555-3.594-1.555-3.179 0-5.515 2.966-4.797 6.045-4.091-.205-7.719-2.165-10.148-5.144-1.29 2.213-.669 5.108 1.523 6.574-.806-.026-1.566-.247-2.229-.616-.054 2.281 1.581 4.415 3.949 4.89-.693.188-1.452.232-2.224.084.626 1.956 2.444 3.379 4.6 3.419-2.07 1.623-4.678 2.348-7.29 2.04 2.179 1.397 4.768 2.212 7.548 2.212 9.142 0 14.307-7.721 13.995-14.646.962-.695 1.797-1.562 2.457-2.549z"></path></svg></a> 
        <a><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="fill-current"><path d="M19.615 3.184c-3.604-.246-11.631-.245-15.23 0-3.897.266-4.356 2.62-4.385 8.816.029 6.185.484 8.549 4.385 8.816 3.6.245 11.626.246 15.23 0 3.897-.266 4.356-2.62 4.385-8.816-.029-6.185-.484-8.549-4.385-8.816zm-10.615 12.816v-8l8 3.993-8 4.007z"></path></svg></a> 
        <a><svg xmlns="http://www.w3.org/2000/svg" width="24" height="24" viewBox="0 0 24 24" class="fill-current"><path d="M9 8h-3v4h3v12h5v-12h3.642l.358-4h-4v-1.667c0-.955.192-1.333 1.115-1.333h2.885v-5h-3.808c-3.596 0-5.192 1.583-5.192 4.615v3.385z"></path></svg></a>
      </div>
    </div>
  </footer>
	<dialog id="searchModal" class="modal">
    <form method="dialog" class="modal-box">
        <div id="search"></div>
    </form>
    <form method="dialog" class="modal-backdrop">
      <button>close</button>
    </form>
</dialog>


</body>
</html>